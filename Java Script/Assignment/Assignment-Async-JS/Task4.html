<!DOCTYPE html>
<html>
<head>
    <title>Post Loader</title>
</head>
<body>

    <h2>Post Loader with Delay</h2>

    <button id="loadBtn">Load Posts</button>
    <p id="status"></p>
    <ul id="postList"></ul>

    <script>
        function getPosts() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    let success = Math.random() > 0.3;
                    if (success) {
                        resolve([
                            "Understanding JavaScript Closures",
                            "Async Await Simplified",
                            "How Browsers Render Web Pages",
                            "Mastering CSS Grid",
                            "Introduction to Fetch API"
                        ]);
                    } else {
                        reject("Failed to load posts");
                    }
                }, 2000);
            });
        }

        async function loadPosts() {
            let status = document.getElementById("status");
            let list = document.getElementById("postList");

            status.innerText = "Loading posts...";
            list.innerHTML = "";

            try {
                let posts = await getPosts();
                status.innerText = "";
                posts.forEach(p => {
                    let li = document.createElement("li");
                    li.innerText = p;
                    list.appendChild(li);
                });
            } catch (err) {
                status.innerText = err + " | Retrying...";
                setTimeout(loadPosts, 1500);
            }
        }

        document.getElementById("loadBtn").onclick = loadPosts;
    </script>

</body>
</html>
